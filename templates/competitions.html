{% extends 'layout.html' %}

{% block title %}MÃ¼cadeleler{% endblock %}

{% block content %}
<div class="container">
    <div class="header">
        <h1>ğŸ† MÃ¼cadeleler</h1>
        <p>DÃ¼nya futbolundaki tÃ¼m ligler, kupalar ve Ã¶zel turnuvalar</p>
    </div>

    <div class="search-bar">
        <input type="text" id="searchInput" placeholder="MÃ¼cadele ara...">
    </div>

    <div id="competitionsContainer" class="players-grid">
        {% if competitions %}
            {% for comp in competitions %}
            <div class="player-card fade-in" 
                 data-competition-name="{{ comp.name|default('bilinmeyen')|lower }}">

                <!-- Avatar + BaÅŸlÄ±k -->
                <div class="player-header">
                    <div class="player-avatar">
                        {{ comp.name[0]|upper if comp.name else 'ğŸ†' }}
                    </div>
                    <h2 class="player-name">
                        {{ comp.name or 'Bilinmeyen MÃ¼cadele' }}
                    </h2>
                </div>

                <!-- Bilgi alanÄ± 1 -->
                <div class="player-info">
                    <div class="info-item">
                        <span class="info-label">ğŸŒ Ãœlke</span>
                        <span class="info-value">{{ comp.country_name or 'N/A' }}</span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">ğŸ·ï¸ MÃ¼cadele ID</span>
                        <span class="info-value">{{ comp.competition_id or 'N/A' }}</span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">ğŸ“Œ Major League mi?</span>
                        <span class="info-value">
                            {% if comp.is_major_league %}
                                <span class="value-highlight">Evet</span>
                            {% else %}
                                HayÄ±r
                            {% endif %}
                        </span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">ğŸ”— URL</span>
                        <span class="info-value">
                            {% if comp.url %}
                                <a href="{{ comp.url }}" target="_blank" style="color:#2a5298; font-weight:700;">
                                    Ziyaret Et
                                </a>
                            {% else %}
                                N/A
                            {% endif %}
                        </span>
                    </div>
                </div>

            </div>
            {% endfor %}
        {% else %}
            <div class="no-results">
                <p>HenÃ¼z mÃ¼cadele verisi bulunmamaktadÄ±r.</p>
            </div>
        {% endif %}
    </div>
</div>

<script>
const searchInput = document.getElementById('searchInput');
const compCards = document.querySelectorAll('.player-card');

searchInput.addEventListener('input', function (e) {
    const searchTerm = e.target.value.toLowerCase().trim();
    compCards.forEach(card => {
        const value = card.getAttribute('data-competition-name');
        card.style.display = value.includes(searchTerm) ? 'block' : 'none';
    });
});
</script>

{% endblock %}